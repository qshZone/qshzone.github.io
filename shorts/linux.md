---
layout: page
title: Linux справочник
---

По большей части команды актуальны для Ubuntu.
Есть https://quickref.me/ssh - по ssh, grep и подобному

## Информация о системе

- `localhost` - узнать название хоста в сети, параметр `-I` текущий ip-адрес
- `sudo ln -s /mnt/<myVolume> /var/lib/docker/volumes/<myVolume>/_data` - сделать линк на директорию
- `getconf LONG_BIT` - разрядность системы
- `cat /etc/shells` - получить список всех оболочек в системе
- `chsh` - изменение оболочки в системе
- `lsb_release -a` - вывести версию системы
- `uname` - ядро linux, `-r` вывести версию ядра, `-a` вывести всю информацию
- `man <command name>` - информация по команде с описанием
- `uptime` - сколько работает система, выводит `load average` - среднее значение загрузки системы за 1, 5 и 15 минут (чем меньше, тем лучше), для грубой оценки

## Обработка вывода

- `grep`
- `json_pp`
- Также есть работа с json, чтобы например обрабатывать данные файла и делать к ним запросы

## Файловая система

- `ls` - вывод файлов в текущем каталоге, `-lah` - вывод файлов в удобном и подробном формате
- `sudo chown quash:quash /opt/test/ -R` - сделать владельца папки `test`
- `ln -s <path to the file/folder to be linked> <the path of the link to be created>` - установить `symbolic link` или `symlink`
- `df -h` - обзор свободного пространства на подключенных дисках, параметр `h` для отображения в Мб и Гб
- `du -h` - считает размеры папок и файлов в текущей директории и во вложенных
- `du -sh /etc/*/` - подсчитывает размеры только в текущей директории, в зависимости указывается ли в конце символ `/`

- Жёсткие диски
- Выдача прав
- Работа с текстовыми файлами `vim` - insert переход в режим редактирования, выход `:q`, выход с сохранением `:wq`

## Сеть

- `ip a` - сетевые интерфейсы, определение айпишников
- `netstat -nlpt` - список открытых портов

## Пользователи и группы

- `who` - список пользоватлей, залогиненных в систему
- `w` - также список залогиненных пользователей и время аптайма
- `whoami` - вывести имя текущего пользователя
- `id <user name>` - вывести идентификатор пользователя в системе
- `groups` - вывести список групп

## Работа с приложениями

- `sudo apt update` и `sudo apt upgrade` - обновление, обычно оставляют алиас `apt-get` на эту команду
- Как посмотреть список пакетов
- Установка и удаление
- Автоматическая загрузка или выполнение по крону

## Работа с процессами

- `kill <process id>` - остановить процесс, сообщает процессу, что нужно его завершить
- `kill -9 <process id> - принудительно остановить процесс
- `killall -s 9 <process name>` - убивает все процессы с одинаковым названием

## Утилиты

- mc - файловый менеджер Midnight Commander https://klimer.eu/2015/05/01/use-midnight-commander-like-a-pro/
- htop и top - мониторинг состояния компьютера: процессор, оперативка, приложения
- nano - удобный и простой текстовый редактор с подсветкой синтаксиса. Для подсветки нужно создать файл `/~/.nanorc` и включить нужные типы файлов, например, `include /usr/share/nano/*.nanorc`


## Разное

- `sudo do-release-upgrade` - обновление ОС
- `sudo apt autoremove` - после обновления системы можно запустить, чтобы почистить временные файлы

### Алиас для команды

- `alias` - выводит список алиасов
- `alias di="docker images"` - задать алиас для команды на время сессии
- `unalias <name>` - удалить алиас с указанным именем
- `bindkey -v` - ?

qshAliases хранятся в файле `/~/.bash_aliases`
```
alias di="docker images"
alias dc="docker ps"
alias dca="docker ps -a"
alias dcl="docker container logs -f "

alias h="cd ~"
alias o="cd /opt"
alias cds="cd /opt/landphist-static-files"
alias cdl="cd /opt/landphist"```

Для задания алиаса для команды, например, `Git` можно дополнить файл `vim ~/.bashrc` кодом ниже. 
```
g() {
  git $@
}
```
